(this.webpackJsonpauth_front=this.webpackJsonpauth_front||[]).push([[0],{159:function(e,t,n){},183:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(31),c=n.n(r),s=n(53),i=n(10),o=n(11),u=n.n(o),l=n(24),d=n(25),j=n(55),b=n(6),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a.useState)(e),n=Object(d.a)(t,2),r=n[0],c=n[1],s=function(){c(e)},i=function(e){var t=e.target;c(Object(b.a)(Object(b.a)({},r),{},Object(j.a)({},t.name,t.value)))};return[r,i,s]},h=n(16),m="[auth] Login",O="[auth] Login success",f="[auth] Login error",x="[auth] Logout",g="[auth] Register",v="[auth] Register success",w="[auth] Register error",y="[auth] Register init",N=n(112),k=function(e,t,n){return function(){var a=Object(l.a)(u.a.mark((function a(r){var c,s;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r(I(e,t)),a.next=4,N.a.signIn(e,t,{captcha:n});case 4:c=a.sent,s={token:c.signInUserSession.idToken,username:c.username},localStorage.setItem("lasestrellas_auth",JSON.stringify(s)),r(C(e,t,s.token)),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(0),r(A(e,t,a.t0.message)),localStorage.removeItem("lasestrellas_auth");case 14:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()},S=function(e,t,n,a){return function(){var r=Object(l.a)(u.a.mark((function r(c){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,c(E()),r.next=4,N.a.signUp({username:e,password:t,attributes:{email:n},clientMetadata:{captcha:a}});case 4:c(L()),r.next=11;break;case 7:r.prev=7,r.t0=r.catch(0),c(B(r.t0.message)),localStorage.removeItem("lasestrellas_auth");case 11:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()},I=function(e,t){return{type:m,payload:{username:e,password:t}}},C=function(e,t,n){return{type:O,payload:{username:e,password:t,token:n,error:!1}}},A=function(e,t,n){return{type:f,payload:{username:e,password:t,errorCode:n,token:null,error:!0}}},_=function(){return{type:x}},E=function(){return{type:g,payload:{}}},L=function(){return{type:v,payload:{error:!1}}},B=function(e){return{type:w,payload:{errorCode:e,error:!0}}},F=n(211),D=n(210),U=n(141),z=n(4),R=n(88),T=function(e){var t=e.history,n=Object(h.b)(),r=Object(a.useState)(!1),c=Object(d.a)(r,2),s=c[0],i=c[1],o=Object(a.useState)(!1),j=Object(d.a)(o,2),b=j[0],m=j[1],O=Object(a.useState)(null),f=Object(d.a)(O,2),x=f[0],g=f[1],v=Object(h.c)((function(e){return e.auth})),w=p({username:"",password:""}),y=Object(d.a)(w,2),S=y[0],I=y[1],A=S.username,E=S.password,L=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),null===x){e.next=7;break}return m(!0),i(!0),e.next=6,n(k(A,E,x));case 6:i(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){U.a.listen("auth",(function(e){var t=e.payload,a=t.event,r=t.data;switch(a){case"signIn":b||n(function(e,t,n){return function(){var a=Object(l.a)(u.a.mark((function a(r){var c;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:c={token:n.signInUserSession.idToken,username:n.username},localStorage.setItem("lasestrellas_auth",JSON.stringify(c)),r(C(e,t,c.token));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(A,E,r))}}))}),[x]),Object(z.jsxs)("div",{className:"site-wrapper",children:[v.error&&Object(z.jsx)("div",{style:{zIndex:1999999,position:"absolute",top:10,right:10},children:Object(z.jsxs)(F.a,{animation:!0,autohide:!0,onClose:function(){return n(_())},children:[Object(z.jsx)(F.a.Header,{children:Object(z.jsx)("strong",{className:"mr-auto",children:"Login Error"})}),Object(z.jsx)(F.a.Body,{children:v.errorCode})]})}),Object(z.jsx)("div",{className:"container",children:Object(z.jsxs)("div",{className:"row align-items-center intro",children:[Object(z.jsxs)("div",{className:"col-xs-12 col-sm-6 align-middle",children:[Object(z.jsx)("h1",{className:"page-intro",children:"lasestrellas.tv"}),Object(z.jsx)("p",{children:"Nulla porttitor accumsan tincidunt. Donec rutrum congue leo eget malesuada. Mauris blandit aliquet elit, eget incident nib pulmonary a. Nella porttitor accumsan tincidunt. Donec sollicitudin molestie malesuada."}),Object(z.jsx)("p",{children:Object(z.jsx)("strong",{children:"New Here?"})}),Object(z.jsx)("a",{onClick:function(){return t.replace("/auth/register")},className:"btn signup",children:"Sign Up"})]}),Object(z.jsx)("div",{className:"col-xs-12 col-sm-6",children:Object(z.jsxs)("div",{className:"login-container",children:[Object(z.jsx)("h2",{className:"form-heading",children:"Inicia sesi\xf3n"}),Object(z.jsxs)("form",{className:"row",onSubmit:L,id:"login-form",children:[Object(z.jsxs)("div",{className:"input-group",children:[Object(z.jsx)("i",{className:"fa fa-user","aria-hidden":"true"}),Object(z.jsx)("input",{required:!0,tabIndex:"1",className:"form-control input-lg",name:"username",type:"text",value:A,onChange:I,maxLength:"100",title:"Username",placeholder:"Username"})]}),Object(z.jsxs)("div",{className:"input-group",children:[Object(z.jsx)("i",{className:"fa fa-lock","aria-hidden":"true"}),Object(z.jsx)("input",{required:!0,tabIndex:"1",className:"form-control input-lg",name:"password",value:E,onChange:I,type:"password",maxLength:"100",title:"Password",placeholder:"password"})]}),Object(z.jsx)("div",{style:{marginBottom:"20px",textAlign:"center",width:"100%"},children:Object(z.jsx)(R,{sitekey:"6Ld7tGQaAAAAAHYNsE9KjVDFXhnF8ovKlaxSp4Sz",render:"explicit",verifyCallback:B})}),x&&Object(z.jsx)("button",{type:"submit",className:"btn w-100",children:s?Object(z.jsx)(D.a,{animation:"border",size:"sm"}):Object(z.jsx)("div",{children:"Sign In"})}),Object(z.jsx)("br",{})," ",Object(z.jsx)("a",{className:"reset w-100",tabIndex:"4",href:"./",children:"Forgot password?"})]}),Object(z.jsxs)("div",{className:"social-login clearfix",children:[Object(z.jsx)("p",{children:"- or sign in with -"}),Object(z.jsxs)("ul",{className:"social-buttons text-center",children:[Object(z.jsx)("li",{children:Object(z.jsx)("a",{className:"facebook",onClick:function(){return N.a.federatedSignIn({customState:"facebook"})},children:Object(z.jsx)("i",{className:"fa fa-facebook","aria-hidden":"true"})})}),Object(z.jsx)("li",{children:Object(z.jsx)("a",{className:"google-plus",onClick:function(){return N.a.federatedSignIn({customState:"google"})},children:Object(z.jsx)("i",{className:"fa fa-google-plus","aria-hidden":"true"})})})]})]})]})})]})})]})},q=n(64),H=function(e){var t=e.isAuthenticated,n=e.component,a=Object(q.a)(e,["isAuthenticated","component"]);return Object(z.jsx)(i.b,Object(b.a)(Object(b.a)({},a),{},{component:function(e){return t?Object(z.jsx)(n,Object(b.a)({},e)):Object(z.jsx)(i.a,{to:"/auth/login"})}}))},J=n(88),K=function(e){var t=e.history,n=Object(h.b)(),r=Object(a.useState)(!1),c=Object(d.a)(r,2),s=c[0],i=c[1],o=Object(a.useState)(null),j=Object(d.a)(o,2),b=j[0],m=j[1],O=Object(h.c)((function(e){return e.register})),f=p({username:"",password:"",email:""}),x=Object(d.a)(f,2),g=x[0],v=x[1],w=g.username,N=g.password,k=g.email,I=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!b){e.next=7;break}return i(!0),e.next=5,n(S(w,N,k));case 5:i(!1),setTimeout((function(){A(),_()}),2e3);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){return n({type:y,payload:{}})},_=function(){return t.replace("/auth/login")};return Object(z.jsxs)("div",{className:"site-wrapper",children:[O.init?O.error?Object(z.jsx)("div",{style:{zIndex:1999999,position:"absolute",top:10,right:10},children:Object(z.jsxs)(F.a,{animation:!0,autohide:!0,onClose:A,children:[Object(z.jsx)(F.a.Header,{children:Object(z.jsx)("strong",{className:"mr-auto",children:"Login Error"})}),Object(z.jsx)(F.a.Body,{children:O.errorCode})]})}):Object(z.jsx)("div",{style:{zIndex:1999999,position:"absolute",top:10,right:10},children:Object(z.jsxs)(F.a,{animation:!0,autohide:!0,onClose:A,children:[Object(z.jsx)(F.a.Header,{children:Object(z.jsx)("strong",{className:"mr-auto",children:"Confirm account"})}),Object(z.jsx)(F.a.Body,{children:'"We are send a email to confirm your account."'})]})}):Object(z.jsx)("div",{}),Object(z.jsx)("div",{className:"container",children:Object(z.jsx)("div",{className:"row align-items-center intro  justify-content-center",children:Object(z.jsx)("div",{className:"col-6",children:Object(z.jsxs)("div",{className:"login-container",children:[Object(z.jsx)("h2",{className:"form-heading",children:"Register"}),Object(z.jsxs)("form",{className:"row",onSubmit:I,id:"login-form",children:[Object(z.jsxs)("div",{className:"input-group",children:[Object(z.jsx)("i",{className:"fa fa-user","aria-hidden":"true"}),Object(z.jsx)("input",{required:!0,tabIndex:"1",className:"form-control input-lg",name:"username",type:"text",value:w,onChange:v,maxLength:"100",title:"Username",placeholder:"Username"})]}),Object(z.jsxs)("div",{className:"input-group",children:[Object(z.jsx)("i",{className:"fa fa-envelope-o","aria-hidden":"true"}),Object(z.jsx)("input",{required:!0,tabIndex:"1",className:"form-control input-lg",name:"email",type:"text",value:k,onChange:v,maxLength:"100",title:"Email",placeholder:"Email"})]}),Object(z.jsxs)("div",{className:"input-group",children:[Object(z.jsx)("i",{className:"fa fa-lock","aria-hidden":"true"}),Object(z.jsx)("input",{required:!0,tabIndex:"1",className:"form-control input-lg",name:"password",value:N,onChange:v,type:"password",maxLength:"100",title:"Password",placeholder:"password"})]}),Object(z.jsx)("div",{style:{marginBottom:"20px",textAlign:"center",width:"100%"},children:Object(z.jsx)(J,{sitekey:"6Ld7tGQaAAAAAHYNsE9KjVDFXhnF8ovKlaxSp4Sz",render:"explicit",verifyCallback:C})}),b&&Object(z.jsx)("button",{type:"submit",className:"btn w-100",children:s?Object(z.jsx)(D.a,{animation:"border",size:"sm"}):Object(z.jsx)("div",{children:"Sign In"})}),Object(z.jsx)("br",{}),Object(z.jsx)("a",{className:"reset w-100",tabIndex:"4",onClick:_,children:"Already account?"})]})]})})})})]})},P=function(){var e=Object(h.c)((function(e){return e.auth}));return Object(z.jsx)("div",{children:Object(z.jsxs)("h1",{children:["Hi! ",e.username]})})},X=function(e){var t=e.isAuthenticated,n=e.component,a=Object(q.a)(e,["isAuthenticated","component"]);return Object(z.jsx)(i.b,Object(b.a)(Object(b.a)({},a),{},{component:function(e){return t?Object(z.jsx)(i.a,{to:"/"}):Object(z.jsx)(n,Object(b.a)({},e))}}))},G=function(){var e=Object(h.b)();return Object(a.useEffect)((function(){e(function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.signOut({global:!0});case 3:t(_()),localStorage.removeItem("lasestrellas_auth"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error signing out: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(z.jsx)("div",{children:"signing Out..."})},M=function(){Object(a.useEffect)((function(){window.FB||t()}),[]);var e=function(e){var t=e.accessToken,n=1e3*e.expiresIn+(new Date).getTime();t&&window.FB.api("/me",{fields:"name,email"},(function(e){var a={name:e.name,email:e.email};N.a.federatedSignIn("facebook",{token:t,expires_at:n},a).then((function(e){console.log(e)}))}))},t=function(){window.fbAsyncInit=r;var e=document.createElement("script");e.src="https://connect.facebook.net/en_US/sdk.js",e.async=!0,e.onload=n,document.body.appendChild(e)},n=function(){window.FB;console.log("FB SDK initialized")},r=function(){window.FB.init({appId:"690657391628258",cookie:!0,xfbml:!0,version:"v2.11"})};return Object(z.jsx)("div",{children:Object(z.jsx)("button",{onClick:function(){var t=window.FB;t.getLoginStatus((function(n){"connected"===n.status?e(n.authResponse):t.login((function(t){t&&t.authResponse&&e(t.authResponse)}),{scope:"public_profile,email"})}))},children:"Sign in with Facebook"})})},V=function(){var e=Object(h.c)((function(e){return e.auth}));return Object(z.jsx)(s.a,{children:Object(z.jsxs)(i.d,{children:[Object(z.jsx)(X,{path:"/auth/login",component:T,isAuthenticated:!!e.token}),Object(z.jsx)(X,{path:"/auth/register",component:K,isAuthenticated:!!e.token}),Object(z.jsx)(X,{path:"/auth/facebook",component:M,isAuthenticated:!!e.token}),Object(z.jsx)(H,{path:"/auth/signOut",component:G,isAuthenticated:!!e.token}),Object(z.jsx)(H,{path:"/",component:P,isAuthenticated:!!e.token})]})})},Q=n(36),W=n(107),Y=function(){return JSON.parse(localStorage.getItem("lasestrellas_auth"))||{error:!1}},Z="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Q.d,$=Object(Q.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:case O:return Object(b.a)(Object(b.a)(Object(b.a)({},e),t.payload),{},{error:!1});case f:return Object(b.a)(Object(b.a)(Object(b.a)({},e),t.payload),{},{error:!0});case x:return{error:!1};default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{init:!1,error:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(b.a)(Object(b.a)(Object(b.a)({},e),t.payload),{},{init:!1,error:!1});case v:case w:return Object(b.a)(Object(b.a)(Object(b.a)({},e),t.payload),{},{init:!0});case y:return Object(b.a)(Object(b.a)(Object(b.a)({},e),t.payload),{},{init:!1,error:!1});default:return e}}}),ee=Object(Q.e)($,Z(Object(Q.a)(W.a))),te=function(){return Object(z.jsx)(h.a,{store:ee,children:Object(z.jsx)(V,{})})};n(158),n(159);n(39).default.configure({region:"us-east-1",userPoolId:"us-east-1_JDBGCgILo",userPoolWebClientId:"hm2uhgm53rpsq5kdvrog4ocee",mandatorySignIn:!0,oauth:{domain:"poctestelev.auth.us-east-1.amazoncognito.com",redirectSignIn:"http://localhost:3000/",redirectSignOut:"http://localhost:3000/",responseType:"token"}}),c.a.render(Object(z.jsx)(te,{}),document.getElementById("root"))}},[[183,1,2]]]);
//# sourceMappingURL=main.c37564ab.chunk.js.map